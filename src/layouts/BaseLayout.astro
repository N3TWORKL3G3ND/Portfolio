---
import "../styles/global.css";
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";
import NeuralBackground from "../components/NeuralBackground.astro";
import ProjectModal from "../components/projects/ProjectModal.astro";

const { title = "Mi Portafolio" } = Astro.props;
---
<!DOCTYPE html>
<html lang="es">
<head>
  <script is:inline>
    const stored = localStorage.getItem("theme");
    const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;

    if (stored === "dark" || (!stored && prefersDark)) {
      document.documentElement.classList.add("dark");
    }
  </script>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{title}</title>
</head>

<body class="relative min-h-screen text-gray-900 dark:text-gray-100">

  <!-- Fondo -->
  <NeuralBackground />

  <!-- Contenido -->
  <div class="relative z-10">
    <Navbar />
    <main class="pt-16">
      <slot />
    </main>
    <Footer />
  </div>

  <!-- Modal GLOBAL -->
  <ProjectModal />

  <!-- Script desde public -->
  <script type="module" src="/scripts/projectsModal.js"></script>

</body>
</html>


